# 📊 如何查看APP日志找出问题

## 在Android Studio中查看Logcat

### 步骤：

1. **打开Android Studio**
2. **点击底部的 "Logcat" 标签**
3. **确保选择了你的设备**（REA-AN00）
4. **在搜索框输入**：`RegisterActivity`
5. **清空之前的日志**（点击垃圾桶图标🗑️）
6. **在手机上点击注册按钮**
7. **观察日志输出**

---

## 关键日志信息

### ✅ 成功的日志：
```
RegisterActivity: ✅ 注册成功
```

### ❌ 失败的日志（重点看这些）：

**情况1：网络连接错误**
```
RegisterActivity: 注册失败
java.net.ConnectException: Failed to connect to /192.168.81.39:8080
```
→ 说明APP无法连接到服务器

**情况2：超时错误**
```
RegisterActivity: 注册失败
java.net.SocketTimeoutException: timeout
```
→ 说明请求超时，服务器没响应

**情况3：邮箱重复**
```
RegisterActivity: 发布失败: 400
```
→ 邮箱已被注册

**情况4：SSL/证书错误**
```
javax.net.ssl.SSLException
```
→ HTTPS证书问题（但我们用的是HTTP，不应该出现）

---

## 如果看到连接错误

即使浏览器能访问，APP不能访问，可能是：

### 原因1：APP的网络权限

检查 `AndroidManifest.xml` 是否有：
```xml
<uses-permission android:name="android.permission.INTERNET" />
```

### 原因2：Android 9+ 的明文流量限制

检查 `network_security_config.xml` 是否允许HTTP：
```xml
<network-security-config>
    <base-config cleartextTrafficPermitted="true">
        ...
    </base-config>
</network-security-config>
```

### 原因3：APP缓存了旧的BASE_URL

**解决方法**：
```
1. 卸载APP
2. 重新安装
3. 重启手机（如果必要）
```

---

## 快速诊断命令

### 使用adb查看日志：
```bash
# 实时查看日志
adb logcat | findstr "RegisterActivity"

# 或者查看所有网络相关错误
adb logcat | findstr "Exception"
```

---

## 服务器日志

同时查看服务器控制台，看是否收到请求：

**期望看到**：
```
POST /api/users/register - 200 OK
```

**如果什么都没显示**：
→ 说明请求根本没到服务器

---

## 联系我时请提供

如果还是不行，截图或复制这些信息给我：

1. **Logcat中的完整错误信息**
2. **服务器控制台输出**
3. **手机型号和Android版本**
4. **是否能用手机浏览器访问服务器**

---

**创建时间**: 2025-10-17

